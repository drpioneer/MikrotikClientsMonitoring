# MikrotikClientsMonitoring
Скрипт предназначен для сбора информации об активности клиентов сети и оповещения администратора при смене статуса абонетов. Код скрипта содержит в себе всё необходимое для работы и не имеет зависимостей от сторонних функций и скриптов. Скрипт кладётся в System/Scripts. Запуск скрипта производится по расписанию System/Scheduler с типовым периодом, составляющим 5-10 минут. Обкатка скрипта проводилась на актуальных версиях RouterOS 6.49.++ и 7.14.++ . Предполагается работа скрипта в составе сетевого шлюза с активным DHCP-сервером, из которого черпается информация об абонетах, и активным сетевым мостом, из которого черпается информация об активности клиентов. При работе скрипт формирует в памяти устройства базу клиентов на основе информации из 'ip/dhcp-server/leases' и 'bridge/hosts'. При смене статуса абонента скрипт выводит соответствующую запись в журнал устройства. Дальнейшая трансляция записи в Телеграм производится при помощи TLGRM ( https://github.com/drpioneer/MikrotikTelegramMessageHandler ).
