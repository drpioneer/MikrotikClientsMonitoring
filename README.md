# MikrotikClientsMonitoring - скрипт мониторинга состояния клиентов сети 
Скрипт предназначен для оповещения системного администратора о смене статуса клиентов сети и подразумевает работу на устройстве с поднятыми сетевым мостом и DHCP-сервером, из которых черпается информация о клиентах сети и их активности (устройство в роли типового домашнего шлюза с поднятыми сетевыми службами).

Во время работы скрипт формирует в памяти устройства базу клиентов и актуализирует её при каждом запуске. Попутно скрипт отображает текущее состояние сетевых клиентов в окне терминала. В случае смены статуса сетевого клиента, скрипт вносит соответствующую запись в журнал устройства. Для оповещения в Телеграм следует задействовать TLGRM: https://github.com/drpioneer/MikrotikTelegramMessageHandler .

В скрипте имеется вспомогательная база клиентов, в которую при необходимости можно внести игнорируемых клиентов или удобочитаемые имена клиентов.

Обкатка скрипта проводилась на актуальных версиях RouterOS 6.49.++ и 7.16.++ . Тело скрипта необходимо закинуть в 'System/Scripts' и настроить запуск по расписанию 'System/Scheduler' с периодом 1 минуту. В случае ОБНОВЛЕНИЯ скрипта, перед его запуском необходимо удалить из памяти устройства переменную 'clients', находящуюся в 'System/Scripts/Enviroment'.

Используете скрипт - отметьте это звездочкой, Вам не сложно, а мне приятно!
